# Quick Start Guide - Anomaly Detection Web App

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (5 ‡∏ô‡∏≤‡∏ó‡∏µ)

### 1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies

```bash
cd /Users/seal/Documents/GitHub/nt/anomaly_web
pip install -r requirements.txt
```

### 2. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Web Server

```bash
python app.py
```

### 3. ‡πÄ‡∏õ‡∏¥‡∏î Browser

```
http://localhost:5000
```

---

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

### üî∏ ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÑ‡∏ü‡∏•‡πå Long Format (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)

#### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
```csv
YEAR,MONTH,GROUP_NAME,GL_CODE,GL_NAME,EXPENSE_VALUE
2024,1,IT,5001,Software,50000
2024,2,IT,5001,Software,52000
2024,3,IT,5001,Software,180000
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:
1. **Upload**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå
   - Input Mode: `Long Format`
   - ‡∏Å‡∏î Upload

2. **Configure** (‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ auto-detect ‡πÉ‡∏´‡πâ)
   - Year Column: `YEAR`
   - Month Column: `MONTH`
   - Target Column: `EXPENSE_VALUE` (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö)
   - Dimensions: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `GROUP_NAME`, `GL_CODE`, `GL_NAME`

3. **Detection Options**
   - ‚úì Time Series Analysis (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏õ‡∏¥‡∏î)
   - ‚òê Peer Group Analysis (‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß)

4. **Run**
   - ‡∏Å‡∏î "Run Anomaly Detection"
   - ‡∏£‡∏≠ 1-3 ‡∏ô‡∏≤‡∏ó‡∏µ
   - Download Excel file

5. **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**
   - ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå Excel
   - ‡∏î‡∏π sheet "Crosstab_Report"
   - ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ó‡∏≤‡∏™‡∏µ:
     - üü• ‡πÅ‡∏î‡∏á = ‡∏¢‡∏≠‡∏î‡∏û‡∏∏‡πà‡∏á‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥
     - üü® ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á = ‡∏¢‡∏≠‡∏î‡∏ï‡πà‡∏≥‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥
     - üî¥ ‡πÅ‡∏î‡∏á‡πÄ‡∏Ç‡πâ‡∏° = ‡∏¢‡∏≠‡∏î‡∏ï‡∏¥‡∏î‡∏•‡∏ö

---

### üî∏ ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÑ‡∏ü‡∏•‡πå Crosstab Format

#### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
```csv
GROUP_NAME,GL_CODE,GL_NAME,2024-01,2024-02,2024-03
IT,5001,Software,50000,52000,180000
HR,6001,Salary,100000,105000,103000
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:
1. **Upload**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå
   - Input Mode: `Crosstab Format`
   - ‡∏Å‡∏î Upload

2. **Configure**
   - ID Variables: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `GROUP_NAME`, `GL_CODE`, `GL_NAME`
   - Date Columns: ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ detect ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (2024-01, 2024-02, ...)
   - Value Name: `EXPENSE_VALUE`
   - Crosstab Mode: `auto` (‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏á)

3. **Detection & Run** (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 1)

---

## ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‚ú® ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà
1. **‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å Long Format** - ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤
2. **‡∏õ‡∏¥‡∏î Peer Group ‡∏Å‡πà‡∏≠‡∏ô** - ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ
3. **‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 100-1000 ‡πÅ‡∏ñ‡∏ß
4. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Template** - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ config ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÅ‡∏•‡πâ‡∏ß ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô template

### ‚ö° ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á
1. **Optimize Dimensions** - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞ dimensions ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
2. **Tune Parameters**:
   - `audit_ts_window`: 3-6 = sensitive, 6-12 = moderate
   - `crosstab_min_history`: 3 = strict, 6 = relaxed
3. **Batch Processing** - ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏´‡∏•‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢ configuration ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

---

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Column not found"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ column names ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÉ‡∏ô config

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡∏°‡∏≤‡∏Å"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: 
- ‡∏õ‡∏¥‡∏î Peer Group Analysis
- ‡∏•‡∏î dimensions
- ‡πÅ‡∏ö‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "‡πÑ‡∏°‡πà‡∏°‡∏µ anomaly ‡πÄ‡∏•‡∏¢"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏•‡∏î `audit_ts_window` ‡∏à‡∏≤‡∏Å 6 ‡πÄ‡∏õ‡πá‡∏ô 3
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏õ‡∏£‡∏õ‡∏£‡∏ß‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠
- ‡∏î‡∏π‡πÉ‡∏ô sheet "Full_Audit_Log" ‡∏ß‡πà‡∏≤‡∏°‡∏µ anomaly ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà critical

### ‚ùå ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Excel ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏µ"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î option `run_crosstab_report = true`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ anomalies ‡∏ó‡∏µ‡πà‡∏û‡∏ö‡πÄ‡∏õ‡πá‡∏ô critical types (High_Spike, Low_Spike, Negative_Value)

---

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Configuration ‡∏ó‡∏µ‡πà‡∏î‡∏µ

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Expense Analysis
```json
{
  "input_mode": "long",
  "col_year": "YEAR",
  "col_month": "MONTH",
  "target_col": "EXPENSE_VALUE",
  "crosstab_dimensions": ["GROUP_NAME", "GL_CODE", "GL_NAME"],
  "audit_ts_dimensions": ["GROUP_NAME", "GL_CODE", "GL_NAME"],
  "audit_ts_window": 6,
  "crosstab_min_history": 3,
  "run_time_series_analysis": true,
  "run_peer_group_analysis": false
}
```

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Revenue Analysis (with Peer Group)
```json
{
  "input_mode": "long",
  "col_year": "YEAR",
  "col_month": "MONTH",
  "target_col": "REVENUE_VALUE",
  "crosstab_dimensions": ["PRODUCT", "REGION"],
  "audit_ts_dimensions": ["PRODUCT", "REGION"],
  "audit_peer_group_by": ["PRODUCT"],
  "audit_peer_item_id": "CUSTOMER_ID",
  "audit_ts_window": 6,
  "run_time_series_analysis": true,
  "run_peer_group_analysis": true
}
```

---

## Next Steps

1. **‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á** - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏•‡πá‡∏Å‡πÜ
2. **‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö parameters** - ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£
3. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å templates** - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏ã‡πâ‡∏≥
4. **‡∏≠‡πà‡∏≤‡∏ô README.md** - ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à features ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

---

**Happy Anomaly Hunting! üîç**
