[program:revenue-etl-web]
# Supervisor configuration for Revenue ETL Web Application

# Command to run
command=/path/to/revenue-etl-web/venv/bin/gunicorn \
    -w 4 \
    -b 127.0.0.1:8000 \
    --timeout 600 \
    --access-logfile /path/to/revenue-etl-web/data/logs/gunicorn-access.log \
    --error-logfile /path/to/revenue-etl-web/data/logs/gunicorn-error.log \
    wsgi:app

# Working directory
directory=/path/to/revenue-etl-web

# User to run as
user=your-username

# Auto start on boot
autostart=true

# Auto restart if crashed
autorestart=true

# Restart if fails to start
startretries=3

# Redirect stderr to stdout
redirect_stderr=true

# Log output
stdout_logfile=/path/to/revenue-etl-web/data/logs/supervisor.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=10

# Environment variables
environment=PATH="/path/to/revenue-etl-web/venv/bin",
    SECRET_KEY="your-secret-key-change-this"
